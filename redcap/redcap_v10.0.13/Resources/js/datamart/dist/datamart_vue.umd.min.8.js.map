{"version":3,"sources":["webpack://datamart_vue/./src/pages/CreateRevision.vue?7993","webpack://datamart_vue/./src/components/buttons/ResetButton.vue?e7c6","webpack://datamart_vue/src/components/buttons/ResetButton.vue","webpack://datamart_vue/./src/components/buttons/ResetButton.vue?6b48","webpack://datamart_vue/./src/components/buttons/ResetButton.vue","webpack://datamart_vue/./src/components/buttons/SubmitButton.vue?c9d2","webpack://datamart_vue/src/components/buttons/SubmitButton.vue","webpack://datamart_vue/./src/components/buttons/SubmitButton.vue?2396","webpack://datamart_vue/./src/components/buttons/SubmitButton.vue","webpack://datamart_vue/./src/components/buttons/MappingHelperButton.vue?e239","webpack://datamart_vue/src/components/buttons/MappingHelperButton.vue","webpack://datamart_vue/./src/components/buttons/MappingHelperButton.vue?e073","webpack://datamart_vue/./src/components/buttons/MappingHelperButton.vue","webpack://datamart_vue/src/pages/CreateRevision.vue","webpack://datamart_vue/./src/pages/CreateRevision.vue?ecb9","webpack://datamart_vue/./src/pages/CreateRevision.vue?3dd7","webpack://datamart_vue/./src/pages/CreateRevision.vue?8ccc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","revision_hidden_groups","scopedSlots","_u","key","fn","proxy","on","goBack","_v","onDismissed","staticRenderFns","isDirty","onClick","name","computed","$store","getters","methods","dispatch","component","isValid","Object","keys","errors","length","data","mapping_helper_url","components","RevisionManagerView","ResetButton","SubmitButton","MappingHelperButton","$router","push"],"mappings":"gMAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,UAAU,CAACE,YAAY,QAAQ,CAACF,EAAG,sBAAsB,CAACG,MAAM,CAAC,cAAgBP,EAAIQ,wBAAwBC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACR,EAAG,sBAAsB,CAACE,YAAY,cAAcO,OAAM,QAAW,GAAGT,EAAG,UAAU,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQd,EAAIe,SAAS,CAACf,EAAIgB,GAAG,UAAUZ,EAAG,eAAeA,EAAG,eAAe,CAACU,GAAG,CAAC,UAAYd,EAAIiB,gBAAgB,MACzlBC,EAAkB,G,YCDlB,EAAS,WAAa,IAAIlB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,sBAAsBC,MAAM,CAAC,UAAYP,EAAImB,SAASL,GAAG,CAAC,MAAQd,EAAIoB,UAAU,CAAChB,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAIgB,GAAG,aACjP,EAAkB,GCItB,GACEK,KAAM,cACNC,SAAU,CACRH,QADJ,WAEM,OAAOlB,KAAKsB,OAAOC,QAAQ,sBAG/BC,QAAS,CACPL,QADJ,WAOMnB,KAAKsB,OAAOG,SAAS,qBCnByU,I,YCOhWC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QClBX,EAAS,WAAa,IAAI3B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,yBAAyBC,MAAM,CAAC,UAAYP,EAAI4B,UAAY5B,EAAImB,SAASL,GAAG,CAAC,MAAQd,EAAIoB,UAAU,CAAChB,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIgB,GAAG,cAC3Q,EAAkB,G,kCCItB,GACEK,KAAM,eACNC,SAAU,CACRH,QADJ,WAEM,OAAOlB,KAAKsB,OAAOC,QAAQ,qBAE7BI,QAJJ,WAKM,IAAN,qCACM,OAAN,GAAaC,OAAOC,KAAKC,GAAQC,SAG/BP,QAAS,CACP,QADJ,WACA,yLAQA,uCARA,UAQA,EARA,OASA,EATA,wDAcA,cACA,YACA,qBACA,sFACA,qBACA,kBACA,uBApBA,SAuBA,qCAvBA,+BAyBA,cACA,eACA,gBACA,2CA5BA,QAyBA,EAzBA,OA8BA,uBA9BA,qDAgCA,kBACA,cACA,aACA,uCACA,UApCA,+DCjBqW,ICOjW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QClBX,EAAS,WAAa,IAAIzB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,sBAAsBC,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQd,EAAIoB,UAAU,CAAChB,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIgB,GAAG,8BAChP,EAAkB,GCKtB,GACEK,KAAM,wBACNY,KAAM,WAAR,UAGEX,SAAU,CACRY,mBADJ,WACA,IACA,yDACM,OAAOA,IAGXT,QAAS,CACP,QADJ,WACA,2KAEA,gBACA,YACA,uBACA,+DACA,qBACA,kBACA,qBACA,sBATA,SAYA,EAZA,gBAYA,EAZA,EAYA,UAZA,EAYA,OACA,MACA,0CACA,iBACA,0CAhBA,gDClB4W,ICOxW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QCKf,GACEJ,KAAM,qBACNY,KAAM,WAAR,OACA,uCAEEE,WAAY,CACVC,oBAAJ,OACIC,YAAJ,EACIC,aAAJ,EACIC,oBAAJ,GAEEd,QAAS,CACPV,OADJ,WAEMd,KAAKuC,QAAQC,KAAK,CAAxB,eAEIxB,YAJJ,SAIA,GACMhB,KAAKc,YCvC6U,ICQpV,G,UAAY,eACd,EACAhB,EACAmB,GACA,EACA,KACA,WACA,OAIa,e,oECnBf,yBAA6e,EAAG","file":"datamart_vue.umd.min.8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-revision-page\"},[_c('section',{staticClass:\"main\"},[_c('RevisionManagerView',{attrs:{\"hidden_groups\":_vm.revision_hidden_groups},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('MappingHelperButton',{staticClass:\"ml-auto\"})]},proxy:true}])})],1),_c('section',{staticClass:\"footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.goBack}},[_vm._v(\"Back\")]),_c('ResetButton'),_c('SubmitButton',{on:{\"dismissed\":_vm.onDismissed}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-sm btn-info\",attrs:{\"disabled\":!_vm.isDirty},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fas fa-undo\"}),_vm._v(\" Reset\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button class=\"btn btn-sm btn-info\" @click=\"onClick\" :disabled=\"!isDirty\"><i class=\"fas fa-undo\"></i> Reset</button>\n</template>\n\n<script>\nexport default {\n  name: 'ResetButton',\n  computed: {\n    isDirty() {\n      return this.$store.getters['revision/isDirty'];\n    }\n  },\n  methods: {\n    onClick() {\n      // use this check instead of :disabled to improve performances\n      /* if(!this.isDirty) {\n        alert('change at something before submitting')\n        return \n      } */\n      this.$store.dispatch('revision/reset')\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResetButton.vue?vue&type=template&id=2e69bc40&scoped=true&\"\nimport script from \"./ResetButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ResetButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e69bc40\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-sm btn-success\",attrs:{\"disabled\":!_vm.isValid || !_vm.isDirty},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fas fa-file-export\"}),_vm._v(\" Submit\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button class=\"btn btn-sm btn-success\" @click=\"onClick\" :disabled=\"!isValid || !isDirty\"><i class=\"fas fa-file-export\"></i> Submit</button>\n</template>\n\n<script>\nexport default {\n  name: 'SubmitButton',\n  computed: {\n    isDirty() {\n      return this.$store.getters['revision/isDirty']\n    },\n    isValid() {\n      const errors = this.$store.state.validator.errors\n      return Object.keys(errors).length==0\n    }\n  },\n  methods: {\n    async onClick() {\n      // use this check instead of :disabled to improve performances\n      /* if(!this.isDirty) {\n        alert('change something before submitting')\n        return \n      } */\n      try {\n        // check revision before submitting\n        const isValid = await this.$store.dispatch('revision/validate')\n        if(!isValid) return\n\n        // close the modal\n        // this.$store.dispatch('modal/setOpen', false)\n\n        this.$swal.fire({\n          icon: 'info',\n          title: 'sending data',\n          html: `<p class=\"text-center\"><i class=\"fas fa-spinner fa-spin\"></i> Please wait.</p>`,\n          allowOutsideClick: false,\n          allowEscapeKey: false,\n          showConfirmButton: false,\n        })\n\n        const revision = await this.$store.dispatch('revision/submit')\n\n        const dismissal = await this.$swal.fire({\n          icon: 'success',\n          title: 'Success',\n          text: 'Your revision has been submitted!',\n        })\n        this.$emit('dismissed', dismissal)\n      } catch (error) {\n        console.log(error)\n        this.$swal.fire({\n          icon: 'error',\n          title: 'Error submitting your revision',\n          text: '',\n          //timer: 1500\n        })\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubmitButton.vue?vue&type=template&id=75679e35&scoped=true&\"\nimport script from \"./SubmitButton.vue?vue&type=script&lang=js&\"\nexport * from \"./SubmitButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75679e35\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-sm btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fas fa-code-branch\"}),_vm._v(\" Use the Mapping Helper\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button type=\"button\" class=\"btn btn-sm btn-info\" @click=\"onClick\"><i class=\"fas fa-code-branch\"></i> Use the Mapping Helper</button>\n</template>\n\n<script>\n\nexport default {\n  name: 'mapping-helper-button',\n  data: () => ({\n\n  }),\n  computed: {\n    mapping_helper_url() {\n      const {settings:{mapping_helper_url}} = this.$store.state.settings\n      return mapping_helper_url\n    }\n  },\n  methods: {\n    async onClick() {\n      // location.href = this.mapping_helper_url\n      const dismissalPromise = this.$swal.fire({\n        icon: 'info',\n        title: 'Mapping Helper',\n        text: 'You will be redirected to the Mapping Helper. Continue?',\n        allowOutsideClick: true,\n        allowEscapeKey: true,\n        showConfirmButton: true,\n        showCancelButton: true,\n      })\n\n      const { dismiss, value } = await dismissalPromise\n      if(value===true) {\n        window.open(this.mapping_helper_url,'_self')\n      }else if(dismiss && dismiss==='cancel') {\n          console.log('operation canceled by user')\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MappingHelperButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MappingHelperButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MappingHelperButton.vue?vue&type=template&id=4d4e83fb&scoped=true&\"\nimport script from \"./MappingHelperButton.vue?vue&type=script&lang=js&\"\nexport * from \"./MappingHelperButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d4e83fb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"create-revision-page\">\n    <section class=\"main\">\n      <RevisionManagerView :hidden_groups=\"revision_hidden_groups\">\n        <template v-slot:header>\n          <MappingHelperButton class=\"ml-auto\"/>\n        </template>\n      </RevisionManagerView>\n    </section>\n    <section class=\"footer\">\n      <button type=\"button\" class=\"btn btn-secondary\" @click=\"goBack\">Back</button>\n      <ResetButton />\n      <SubmitButton @dismissed=\"onDismissed\" />\n    </section>\n  </div>\n</template>\n\n<script>\nimport RevisionManagerView, {settings_groups} from '@/views/RevisionManagerView'\nimport ResetButton from '@/components/buttons/ResetButton'\nimport SubmitButton from '@/components/buttons/SubmitButton'\nimport MappingHelperButton from '@/components/buttons/MappingHelperButton'\n\nexport default {\n  name: 'CreateRevisionView',\n  data: () => ({\n    revision_hidden_groups:[settings_groups.MRNS] // nothing hidden!\n  }),\n  components: {\n    RevisionManagerView,\n    ResetButton,\n    SubmitButton,\n    MappingHelperButton,\n  },\n  methods: {\n    goBack() {\n      this.$router.push({ name: 'home' })\n    },\n    onDismissed(dismissal) {\n      this.goBack()\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.footer {\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n}\n.footer * + * {\n  margin-left: 10px;\n}\n\n@media only screen and (max-width: 768px) {\n  .footer {\n    flex-direction: column;\n    justify-content: center;\n  }\n  .footer * + * {\n    margin-left: 0;\n    margin-top: 10px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateRevision.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateRevision.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateRevision.vue?vue&type=template&id=7f70b49e&scoped=true&\"\nimport script from \"./CreateRevision.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateRevision.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateRevision.vue?vue&type=style&index=0&id=7f70b49e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f70b49e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateRevision.vue?vue&type=style&index=0&id=7f70b49e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateRevision.vue?vue&type=style&index=0&id=7f70b49e&scoped=true&lang=css&\""],"sourceRoot":""}