(("undefined"!==typeof self?self:this)["webpackJsonpdatamart_vue"]=("undefined"!==typeof self?self:this)["webpackJsonpdatamart_vue"]||[]).push([[8],{"0ea4":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-revision-page"},[n("section",{staticClass:"main"},[n("RevisionManagerView",{attrs:{hidden_groups:t.revision_hidden_groups},scopedSlots:t._u([{key:"header",fn:function(){return[n("MappingHelperButton",{staticClass:"ml-auto"})]},proxy:!0}])})],1),n("section",{staticClass:"footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.goBack}},[t._v("Back")]),n("ResetButton"),n("SubmitButton",{on:{dismissed:t.onDismissed}})],1)])},i=[],r=n("c63b"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-sm btn-info",attrs:{disabled:!t.isDirty},on:{click:t.onClick}},[n("i",{staticClass:"fas fa-undo"}),t._v(" Reset")])},o=[],c={name:"ResetButton",computed:{isDirty:function(){return this.$store.getters["revision/isDirty"]}},methods:{onClick:function(){this.$store.dispatch("revision/reset")}}},u=c,l=n("2877"),p=Object(l["a"])(u,a,o,!1,null,"2e69bc40",null),f=p.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-sm btn-success",attrs:{disabled:!t.isValid||!t.isDirty},on:{click:t.onClick}},[n("i",{staticClass:"fas fa-file-export"}),t._v(" Submit")])},m=[],b=(n("b64b"),n("96cf"),n("1da1")),h={name:"SubmitButton",computed:{isDirty:function(){return this.$store.getters["revision/isDirty"]},isValid:function(){var t=this.$store.state.validator.errors;return 0==Object.keys(t).length}},methods:{onClick:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("revision/validate");case 3:if(n=e.sent,n){e.next=6;break}return e.abrupt("return");case 6:return t.$swal.fire({icon:"info",title:"sending data",html:'<p class="text-center"><i class="fas fa-spinner fa-spin"></i> Please wait.</p>',allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1}),e.next=9,t.$store.dispatch("revision/submit");case 9:return e.sent,e.next=12,t.$swal.fire({icon:"success",title:"Success",text:"Your revision has been submitted!"});case 12:s=e.sent,t.$emit("dismissed",s),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](0),console.log(e.t0),t.$swal.fire({icon:"error",title:"Error submitting your revision",text:""});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))()}}},v=h,g=Object(l["a"])(v,d,m,!1,null,"75679e35",null),_=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-sm btn-info",attrs:{type:"button"},on:{click:t.onClick}},[n("i",{staticClass:"fas fa-code-branch"}),t._v(" Use the Mapping Helper")])},k=[],C={name:"mapping-helper-button",data:function(){return{}},computed:{mapping_helper_url:function(){var t=this.$store.state.settings.settings.mapping_helper_url;return t}},methods:{onClick:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var n,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$swal.fire({icon:"info",title:"Mapping Helper",text:"You will be redirected to the Mapping Helper. Continue?",allowOutsideClick:!0,allowEscapeKey:!0,showConfirmButton:!0,showCancelButton:!0}),e.next=3,n;case 3:s=e.sent,i=s.dismiss,r=s.value,!0===r?window.open(t.mapping_helper_url,"_self"):i&&"cancel"===i&&console.log("operation canceled by user");case 7:case"end":return e.stop()}}),e)})))()}}},x=C,y=Object(l["a"])(x,w,k,!1,null,"4d4e83fb",null),$=y.exports,B={name:"CreateRevisionView",data:function(){return{revision_hidden_groups:[r["b"].MRNS]}},components:{RevisionManagerView:r["a"],ResetButton:f,SubmitButton:_,MappingHelperButton:$},methods:{goBack:function(){this.$router.push({name:"home"})},onDismissed:function(t){this.goBack()}}},R=B,O=(n("c039"),Object(l["a"])(R,s,i,!1,null,"7f70b49e",null));e["default"]=O.exports},"62ae":function(t,e,n){},c039:function(t,e,n){"use strict";var s=n("62ae"),i=n.n(s);i.a}}]);
//# sourceMappingURL=datamart_vue.umd.min.8.js.map